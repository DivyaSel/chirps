{"version":3,"sources":["app.js","auth-config.js","environment.js","main.js","modules/home.js","modules/wall.js","resources/index.js","resources/data/chirps.js","resources/data/data-services.js","resources/data/users.js","resources/utils/bootstrap-form-renderer.js","resources/value-converters/date-format.js","resources/value-converters/gravatar-url.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/auth-service.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/authentication.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/base-config.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/auth-utilities.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/storage.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/oAuth1.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/popup.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/oAuth2.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/authorize-step.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/auth-fetch-config.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-auth/dist/amd/auth-filter.js","C:/Users/divya/webdevelop/chirps/client/node_modules/regenerator-runtime/runtime.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/validate-binding-behavior.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/validate-trigger.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/validate-binding-behavior-base.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/validation-controller.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/validator.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/property-info.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/validation-error.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/validation-controller-factory.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/validation-errors-custom-attribute.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/validation-renderer-custom-attribute.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/implementation/rules.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/implementation/standard-validator.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/implementation/validation-messages.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/implementation/validation-parser.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/implementation/util.js","C:/Users/divya/webdevelop/chirps/client/node_modules/aurelia-validation/dist/amd/implementation/validation-rules.js","C:/Users/divya/webdevelop/chirps/client/src/app.html","C:/Users/divya/webdevelop/chirps/client/src/modules/home.html","C:/Users/divya/webdevelop/chirps/client/src/resources/css/styles.css","C:/Users/divya/webdevelop/chirps/client/src/modules/wall.html","C:/Users/divya/webdevelop/chirps/client/src/modules/components/login.html","C:/Users/divya/webdevelop/chirps/client/src/modules/components/register.html"],"names":["App","fetchConfig","activate","configure","configureRouter","config","router","addPipelineStep","title","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","window","regeneratorRuntime","Promise","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","plugin","baseconfig","feature","developmentLogging","start","then","setRoot","Home","users","controllerFactory","message","loginError","email","password","showLogon","registerError","controller","createForCurrentScope","addRenderer","login","sessionStorage","setItem","JSON","stringify","response","user","navigate","catch","console","log","error","showRegister","save","validate","result","length","firstName","lastName","screenName","serverResponse","getPersonScreenName","data","get","USER_SERVICE","undefined","ensure","a","required","on","Wall","chirps","DATE_FORMAT_TABLE","newChirp","wallMessage","saveStatus","getChirps","parse","getItem","setUser","getUsersChirps","_id","findUser","searchScreenName","notMe","openUser","follow","followUser","selectedUser","home","chirp","chirpAuthor","saveChirp","chirpArray","Object","like","index","likes","reChirp","logout","removeItem","globalResources","Chirps","chirpsArray","post","CHIRP_SERVICE","unshift","id","url","put","DataServices","http","BASE_URL","x","withBaseUrl","createRequest","asGet","withHeader","localStorage","send","isSuccess","e","code","statusCode","statusText","content","asPut","withContent","asPost","delete","asDelete","Users","userId","followId","obj","BootstrapFormRenderer","render","instruction","unrender","elements","element","remove","add","formGroup","closest","classList","document","createElement","className","textContent","appendChild","querySelector","removeChild","querySelectorAll","DateFormatValueConverter","toView","value","calendar","GravatarUrlValueConverter","size","html","CryptoJS","MD5","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;MAIaA,cAAAA,cADZ;AAEC,iBAAYC,WAAZ,EACA;AAAA;;AACE,WAAKA,WAAL,GAAiBA,WAAjB;AACD;;kBACDC,+BAAU;AACR,WAAKD,WAAL,CAAiBE,SAAjB;AACD;;kBACDC,2CAAgBC,QAAQC,QACxB;AACE,WAAKA,MAAL,GAAcA,MAAd;AACAD,aAAOE,eAAP,CAAuB,WAAvB;AACAF,aAAOG,KAAP,GAAe,QAAf;AACAH,aAAOI,GAAP,CAAW,CACV;AACEC,eAAO,CAAC,EAAD,EAAI,MAAJ,CADT;AAEEC,kBAAS,gBAFX;AAGEC,cAAK;AAHP,OADU,EAMV;AACEF,eAAO,MADT;AAEEC,kBAAS,gBAFX;AAGEC,cAAK,MAHP;AAIEC,cAAK;AAJP,OANU,CAAX;AAaD;;;;;;;;;;;AC9BH,QAAIC,aAAa;AACbC,iBAAQ,2BADK;AAEbC,kBAAS,cAFI;AAGbC,mBAAU,OAHG;AAIbC,oBAAW,eAJE;AAKbC,mBAAU,EALG;AAMbC,wBAAe;AANF,KAAjB;sBAQeN;;;;;;;;oBCRA;AACbO,WAAO,IADM;AAEbC,aAAS;AAFI;;;;;;;;UCaCnB,YAAAA;;;;;;;;;;;;;;AAVhBoB,SAAOC,kBAAP;;AAGAC,UAAQpB,MAAR,CAAe;AACbqB,qBAAiB,sBAAYL,KADhB;AAEbM,cAAU;AACRC,wBAAkB;AADV;AAFG,GAAf;;AAOO,WAASzB,SAAT,CAAmB0B,OAAnB,EAA4B;AACjCA,YAAQC,GAAR,CACGC,qBADH,GAEGC,MAFH,CAEU,oBAFV,EAGGA,MAHH,CAGU,cAHV,EAGyB,UAACC,UAAD,EAAc;AACnCA,iBAAW9B,SAAX;AACD,KALH,EAMG+B,OANH,CAMW,WANX;;AAQA,QAAI,sBAAYb,KAAhB,EAAuB;AACrBQ,cAAQC,GAAR,CAAYK,kBAAZ;AACD;;AAED,QAAI,sBAAYb,OAAhB,EAAyB;AACvBO,cAAQC,GAAR,CAAYE,MAAZ,CAAmB,iBAAnB;AACD;;AAEDH,YAAQO,KAAR,GAAgBC,IAAhB,CAAqB;AAAA,aAAMR,QAAQS,OAAR,EAAN;AAAA,KAArB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCnBYC,eAAAA,eADZ;AAGA,kBAAYjC,MAAZ,EAAmBO,IAAnB,EAAwB2B,KAAxB,EAA8BC,iBAA9B,EACA;AAAA;;AACI,WAAKnC,MAAL,GAAcA,MAAd;AACA,WAAKO,IAAL,GAAYA,IAAZ;AACA,WAAK2B,KAAL,GAAaA,KAAb;AACA,WAAKE,OAAL,GAAe,QAAf;AACA,WAAKC,UAAL,GAAgB,EAAhB;AACA,WAAKC,KAAL;AACA,WAAKC,QAAL;AACA,WAAKC,SAAL,GAAiB,IAAjB;AACA,WAAKC,aAAL,GAAmB,EAAnB;AACA,WAAKC,UAAL,GAAkBP,kBAAkBQ,qBAAlB,EAAlB;AACA,WAAKD,UAAL,CAAgBE,WAAhB,CAA4B,kDAA5B;AACH;;mBAEAC,yBAAQ;AAAA;;AACN,aAAO,KAAKtC,IAAL,CAAUsC,KAAV,CAAgB,KAAKP,KAArB,EAA4B,KAAKC,QAAjC,EACJR,IADI,CACC,oBAAY;AACde,uBAAeC,OAAf,CAAuB,MAAvB,EAA+BC,KAAKC,SAAL,CAAeC,SAASC,IAAxB,CAA/B;AACA,cAAKd,UAAL,GAAkB,EAAlB;AACA,cAAKrC,MAAL,CAAYoD,QAAZ,CAAqB,MAArB;AACH,OALI,EAMJC,KANI,CAME,iBAAS;AACdC,gBAAQC,GAAR,CAAYC,KAAZ;AACA,cAAKnB,UAAL,GAAkB,sBAAlB;AACD,OATI,CAAP;AAUD;;mBAEDoB,uCAAc;AACZ,WAAKjB,SAAL,GAAiB,CAAC,KAAKA,SAAvB;AACD;;mBAEKkB;;;;;;;;uBACe,KAAKhB,UAAL,CAAgBiB,QAAhB;;;AAAfC;;sBACAA,OAAOC,MAAP,KAAkB;;;;;AAChBV,uBAAO;AACTW,6BAAW,KAAKA,SADP;AAETC,4BAAU,KAAKA,QAFN;AAGTzB,yBAAO,KAAKA,KAHH;AAIT0B,8BAAY,KAAKA,UAJR;AAKTzB,4BAAU,KAAKA;AALN;;uBAOgB,KAAKL,KAAL,CAAWwB,IAAX,CAAgBP,IAAhB;;;AAAvBc;;AACJ,oBAAI,CAACA,eAAeT,KAApB,EAA2B;AACzB,uBAAKf,aAAL,GAAqB,EAArB;AACA,uBAAKD,SAAL,GAAiB,IAAjB;AACD,iBAHD,MAGO;AACL,uBAAKC,aAAL,GAAqB,2CAArB;AACD;;;;;;;;;;;;;;;;;mBAIGyB;8EAAoB5D;;;;;;qBACnBA;;;;;;;uBAEgC,KAAK6D,IAAL,CAAUC,GAAV,CAAc,KAAKD,IAAL,CAAUE,YAAV,GAAyB,cAAzB,GAA0C/D,IAAxD;;;AAAvB2D;kDACGA;;;;;;AAEPX,wBAAQC,GAAR;kDACOe;;;;;;;;;;;;;;;;;;;;;AAMvB,qCACEC,MADF,CACS;AAAA,WAAKC,EAAEV,SAAP;AAAA,GADT,EAC2BW,QAD3B,GAEEF,MAFF,CAES;AAAA,WAAKC,EAAET,QAAP;AAAA,GAFT,EAE0BU,QAF1B,GAGEF,MAHF,CAGS;AAAA,WAAKC,EAAElC,KAAP;AAAA,GAHT,EAGuBmC,QAHvB,GAGkCnC,KAHlC,GAIEiC,MAJF,CAIS;AAAA,WAAKC,EAAER,UAAP;AAAA,GAJT,EAI4BS,QAJ5B,GAKGF,MALH,CAKU;AAAA,WAAKC,EAAEjC,QAAP;AAAA,GALV,EAK2BkC,QAL3B,GAMEC,EANF,CAMKzC,IANL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCxEa0C,eAAAA,eADZ;AAKA,kBAAY3E,MAAZ,EAAmBO,IAAnB,EAAwBqE,MAAxB,EAA+B1C,KAA/B,EACA;AAAA;;AAAA,WAHC2C,iBAGD,GAHqB,aAGrB;;AACI,WAAK7E,MAAL,GAAcA,MAAd;AACA,WAAKoC,OAAL,GAAe,QAAf;AACA,WAAKwC,MAAL,GAAcA,MAAd;AACA,WAAK1C,KAAL,GAAaA,KAAb;AACA,WAAK3B,IAAL,GAAYA,IAAZ;AACA,WAAKuE,QAAL;AACA,WAAKC,WAAL,GAAiB,EAAjB;AACA,WAAKC,UAAL,GAAgB,EAAhB;AACH;;mBACIpF;;;;;;;uBACI,KAAKqF,SAAL;;;;;;;;;;;;;;;;;mBAGJA;;;;;;;AACF,qBAAK9B,IAAL,GAAYH,KAAKkC,KAAL,CAAWpC,eAAeqC,OAAf,CAAuB,MAAvB,CAAX,CAAZ;AACA,qBAAKjD,KAAL,CAAWkD,OAAX,CAAmB,KAAKjC,IAAxB;;uBAC2B,KAAKyB,MAAL,CAAYS,cAAZ,CAA2B,KAAKlC,IAAL,CAAUmC,GAArC;;;AAAvBrB;;AACJ,oBAAIA,eAAeT,KAAnB,EAA0B;AACxB,uBAAKuB,WAAL,GAAmB,yBAAnB;AACD;;;;;;;;;;;;;;;;;mBAECQ;;;;;;;;uBACyB,KAAKrD,KAAL,CAAWgC,mBAAX,CAA+B,KAAKsB,gBAApC;;;AAAvBvB;;AACJ,qBAAKwB,KAAL,GAAa,IAAb;;oBACIxB,eAAeT;;;;;AAEjB,qBAAKtB,KAAL,CAAWkD,OAAX,CAAmBnB,cAAnB;uBACM,KAAKW,MAAL,CAAYS,cAAZ,CAA2BpB,eAAeqB,GAA1C;;;;;;;;;;;;;;;;;mBAIJI;8EAAS1B;;;;;;;uBACc,KAAK9B,KAAL,CAAWgC,mBAAX,CAA+BF,UAA/B;;;AAAvBC;;AACJ,qBAAKwB,KAAL,GAAa,IAAb;;oBACIxB,eAAeT;;;;;AACjB,qBAAKtB,KAAL,CAAWkD,OAAX,CAAmBnB,cAAnB;;uBACM,KAAKW,MAAL,CAAYS,cAAZ,CAA2BpB,eAAeqB,GAA1C;;;;;;;;;;;;;;;;;mBAINK;;;;;;;uBACI,KAAKzD,KAAL,CAAW0D,UAAX,CAAsB,KAAKzC,IAAL,CAAUmC,GAAhC,EAAqC,KAAKpD,KAAL,CAAW2D,YAAX,CAAwBP,GAA7D;;;;;;;;;;;;;;;;;mBAGHQ;;;;;;AACH,qBAAKL,KAAL,GAAa,KAAb;;uBACM,KAAKb,MAAL,CAAYS,cAAZ,CAA2B,KAAKlC,IAAL,CAAUmC,GAArC;;;;;;;;;;;;;;;;;mBAIHS;;;;;;;qBACC,KAAKjB;;;;;AACHiB,wBAAQ;AACVA,yBAAO,KAAKjB,QADF;AAEV3B,wBAAM,KAAKA,IAAL,CAAUmC,GAFN;AAGVU,+BAAa,KAAK7C,IAAL,CAAUmC;AAHb;;uBAKe,KAAKV,MAAL,CAAYqB,SAAZ,CAAsBF,KAAtB;;;AAAvB9B;;AACJ,oBAAIA,kBAAkB,CAACA,eAAeT,KAAtC,EAA6C;AAC3C,uBAAKsB,QAAL,GAAgB,EAAhB;AACA,uBAAKE,UAAL,GAAkB,EAAlB;AACC,uBAAKJ,MAAL,CAAYsB,UAAZ,CAAuB,CAAvB,EAA0BF,WAA1B,GAAwC,IAAIG,MAAJ,EAAxC;AACA,uBAAKvB,MAAL,CAAYsB,UAAZ,CAAuB,CAAvB,EAA0BF,WAA1B,GAAwC,EAAC1D,OAAQ,KAAKa,IAAL,CAAUb,KAAnB,EAAyBwB,WAAW,KAAKX,IAAL,CAAUW,SAA9C,EAAwDC,UAAU,KAAKZ,IAAL,CAAUY,QAA5E,EAAsFC,YAAY,KAAKb,IAAL,CAAUa,UAA5G,EAAxC;AAEF,iBAND,MAMO;AACL,uBAAKgB,UAAL,GAAkB,oBAAlB;AACD;;;;;;;;;;;;;;;;;mBAGPoB,qBAAKC,OAAM;AACP,WAAKzB,MAAL,CAAYwB,IAAZ,CAAiB,KAAKxB,MAAL,CAAYsB,UAAZ,CAAuBG,KAAvB,EAA8Bf,GAA/C;AACA,WAAKV,MAAL,CAAYsB,UAAZ,CAAuBG,KAAvB,EAA8BC,KAA9B;AACD;;mBAEKC;8EAAQR;;;;;;AACRjB,2BAAW;AACbiB,yBAAOA,MAAMA,KADA;AAEb5C,wBAAM,KAAKA,IAAL,CAAUmC,GAFH;AAGbiB,2BAAS,IAHI;AAIbP,+BAAa,KAAK7C,IAAL,CAAUmC;AAJV;;uBAMY,KAAKV,MAAL,CAAYqB,SAAZ,CAAsBnB,QAAtB;;;AAAvBb;;AACF,oBAAIA,kBAAkB,CAACA,eAAeT,KAAtC,EAA6C;AACxC,uBAAKwB,UAAL,GAAkB,EAAlB;AACD,uBAAKJ,MAAL,CAAYsB,UAAZ,CAAuB,CAAvB,EAA0BF,WAA1B,GAAwC,IAAIG,MAAJ,EAAxC;AACD,uBAAKvB,MAAL,CAAYsB,UAAZ,CAAuB,CAAvB,EAA0BF,WAA1B,GAAwC,EAAC1D,OAAQ,KAAKa,IAAL,CAAUb,KAAnB,EAAyBwB,WAAW,KAAKX,IAAL,CAAUW,SAA9C,EAAwDC,UAAU,KAAKZ,IAAL,CAAUY,QAA5E,EAAsFC,YAAY,KAAKb,IAAL,CAAUa,UAA5G,EAAxC;AACF,iBAJD,MAIO;AACL,uBAAKgB,UAAL,GAAkB,oBAAlB;AACF;;;;;;;;;;;;;;;;;mBAGJwB,2BAAQ;AACN1D,qBAAe2D,UAAf,CAA0B,MAA1B;AACA,WAAKlG,IAAL,CAAUiG,MAAV;AACH;;mBAEDV,uBAAM;AACF,WAAK9F,MAAL,CAAYoD,QAAZ,CAAqB,MAArB;AACH;;;;;;;;;;;UC/GevD,YAAAA;AAAT,WAASA,SAAT,CAAmBE,MAAnB,EAA2B;AAChCA,WAAO2G,eAAP,CAAuB,CACrB,gCADqB,EAErB,iCAFqB,CAAvB;AAID;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCDYC,iBAAAA,iBADZ;AAGA,wBAAYxC,IAAZ,EAAkB;AAAA;;AACT,iBAAKA,IAAL,GAAYA,IAAZ;AACR,iBAAKyC,WAAL,GAAmBtC,SAAnB;AACI;;yBAEC2B;kFAAUF;;;;;;;;uCAEsB,KAAK5B,IAAL,CAAU0C,IAAV,CAAed,KAAf,EAAsB,KAAK5B,IAAL,CAAU2C,aAAhC;;;AAAvB7C;;AACP,oCAAG,CAACA,eAAeT,KAAnB,EAA0B;AACf,yCAAK0C,UAAL,CAAgBa,OAAhB,CAAwB9C,cAAxB;AACH;iEACMA;;;;;;AAEKX,wCAAQC,GAAR;iEACOe;;;;;;;;;;;;;;;;;yBAI7Be;oFAAe2B;;;;;;AACTC,sCAAM,KAAK9C,IAAL,CAAUE,YAAV,GAAyB,kBAAzB,GAA8C2C;;;uCAEzB,KAAK7C,IAAL,CAAUC,GAAV,CAAc6C,GAAd;;;AAAvBhD;;AACJ,oCAAI,CAACA,eAAeT,KAApB,EAA2B;AACvB,yCAAK0C,UAAL,GAAkBjC,cAAlB;AACH;kEACMA;;;;;;AAEPX,wCAAQC,GAAR;kEACOe;;;;;;;;;;;;;;;;;yBAIX8B;oFAAKY;;;;;;AACHjB,wCAAQ;;;uCAEc,KAAK5B,IAAL,CAAU+C,GAAV,CAAcnB,KAAd,EAAqB,KAAK5B,IAAL,CAAU2C,aAAV,GAA0B,QAA1B,GAAqCE,EAA1D;;;AAAvB/C;kEACDA;;;;;;AAEEX,wCAAQC,GAAR;kEACOe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCzCJ6C,uBAAAA,uBADZ;AAMG,wBAAYC,IAAZ,EAAkB;AAAA;;AAAA;;AAAA,QAJrBC,QAIqB,GAJV,2BAIU;AAAA,QAHjBhD,YAGiB,GAHF,QAGE;AAAA,QAFpByC,aAEoB,GAFJ,SAEI;;AACd,QAAKM,IAAL,GAAYA,IAAZ;AACA,QAAKA,IAAL,CAAUvH,SAAV,CAAoB,aAAK;AAChCyH,MAAEC,WAAF,CAAc,MAAKF,QAAnB;AACQ,IAFD;AAGH;;yBACDjD,mBAAI6C,KAAI;AACJ,UAAO,KAAKG,IAAL,CAAUI,aAAV,CAAwBP,GAAxB,EACFQ,KADE,GAEFC,UAFE,CAES,eAFT,EAE0B,SAAOC,aAAaxC,OAAb,CAAqB,eAArB,CAFjC,EAGFyC,IAHE,GAIF7F,IAJE,CAIG,oBAAY;AACd,QAAI,CAACmB,SAAS2E,SAAd,EAAyB;AACT,YAAO3E,QAAP;AACH,KAFb,MAEmB;AACH,YAAOF,KAAKkC,KAAL,CAAWhC,SAASA,QAApB,CAAP;AACH;AACR,IAVN,EAUQG,KAVR,CAUc,aAAK;AAClBC,YAAQC,GAAR,CAAYuE,CAAZ;AACY,WAAQ,EAACtE,OAAO,IAAR,EAAcuE,MAAMD,EAAEE,UAAtB,EAAkC5F,SAAS0F,EAAEG,UAA7C,EAAR;AACP,IAbN,CAAP;AAcH;;yBACLf,mBAAIgB,SAASjB,KAAK;AACjB,UAAO,KAAKG,IAAL,CAAUI,aAAV,CAAwBP,GAAxB,EACJkB,KADI,GAEJT,UAFI,CAEO,eAFP,EAEwB,SAAOC,aAAaxC,OAAb,CAAqB,eAArB,CAF/B,EAGJiD,WAHI,CAGQF,OAHR,EAIJN,IAJI,GAKL7F,IALK,CAKA,oBAAY;AACjB,QAAI,CAACmB,SAAS2E,SAAd,EAAyB;AACL,YAAO3E,QAAP;AACH,KAFjB,MAEuB;AACH,YAAOF,KAAKkC,KAAL,CAAWhC,SAASA,QAApB,CAAP;AACH;AACjB,IAXK,EAWHG,KAXG,CAWG,aAAK;AACbC,YAAQC,GAAR,CAAYuE,CAAZ;AACgB,WAAQ,EAACtE,OAAO,IAAR,EAAcuE,MAAMD,EAAEE,UAAtB,EAAkC5F,SAAS0F,EAAEG,UAA7C,EAAR;AACA,IAdX,CAAP;AAeA;;yBACDpB,qBAAKqB,SAASjB,KAAK;AAClB,UAAO,KAAKG,IAAL,CAAUI,aAAV,CAAwBP,GAAxB,EACJoB,MADI,GAEJX,UAFI,CAEO,eAFP,EAEwB,SAAOC,aAAaxC,OAAb,CAAqB,eAArB,CAF/B,EAGJiD,WAHI,CAGQF,OAHR,EAIJN,IAJI,GAKL7F,IALK,CAKA,oBAAY;AACjB,QAAI,CAACmB,SAAS2E,SAAd,EAAyB;AACL,YAAO3E,QAAP;AACH,KAFjB,MAEuB;AACH,YAAOF,KAAKkC,KAAL,CAAWhC,SAASA,QAApB,CAAP;AACH;AACjB,IAXK,EAWHG,KAXG,CAWG,aAAK;AACbC,YAAQC,GAAR,CAAYuE,CAAZ;AACgB,WAAQ,EAACtE,OAAO,IAAR,EAAcuE,MAAMD,EAAEE,UAAtB,EAAkC5F,SAAS0F,EAAEG,UAA7C,EAAR;AACA,IAdX,CAAP;AAeA;;yBAEDK,0BAAOrB,KAAK;AACX,UAAO,KAAKG,IAAL,CAAUI,aAAV,CAAwBP,GAAxB,EACLsB,QADK,GAELb,UAFK,CAEM,eAFN,EAEuB,SAAOC,aAAaxC,OAAb,CAAqB,eAArB,CAF9B,EAGLyC,IAHK,GAIL7F,IAJK,CAIA,oBAAY;AACjB,QAAI,CAACmB,SAAS2E,SAAd,EAAyB;AACxB,YAAO3E,QAAP;AACA,KAFD,MAEO;AACN,YAAOF,KAAKkC,KAAL,CAAWhC,SAASA,QAApB,CAAP;AACA;AACD,IAVK,EAUHG,KAVG,CAUG,aAAK;AACbC,YAAQC,GAAR,CAAYuE,CAAZ;AACA,WAAO,EAAEtE,OAAO,IAAT,EAAeuE,MAAMD,EAAEE,UAAvB,EAAmC5F,SAAS0F,EAAEG,UAA9C,EAAP;AACA,IAbK,CAAP;AAcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QC5EYO,gBAAAA,gBAFZ;AAGG,uBAAYrE,IAAZ,EAAiB;AAAA;;AACb,iBAAKA,IAAL,GAAYA,IAAZ;AACH;;wBAELiB,2BAAQjC,MAAM;AACN,iBAAK0C,YAAL,GAAoB1C,IAApB;AACH;;wBAECe;kFAAoB5D;;;;;;qCACfA;;;;;;;uCAEgC,KAAK6D,IAAL,CAAUC,GAAV,CAAc,KAAKD,IAAL,CAAUE,YAAV,GAAyB,cAAzB,GAA0C/D,IAAxD;;;AAAvB2D;iEACGA;;;;;;AAEPX,wCAAQC,GAAR;iEACOe;;;;;;;;;;;;;;;;;wBAIfsB;oFAAW6C,QAAQC;;;;;;sCACfD,UAAUC;;;;;AACNC,sCAAM,EAACrD,KAAKoD,QAAN;;;uCAEqB,KAAKvE,IAAL,CAAU+C,GAAV,CAAcyB,GAAd,EAAmB,KAAKxE,IAAL,CAAUE,YAAV,GAAyB,UAAzB,GAAsCoE,MAAzD;;;AAAvBxE;kEACGA;;;;;;AAEPX,wCAAQC,GAAR;kEACOe;;;;;;;;;;;;;;;;;wBAIZZ;oFAAKP;;;;;;qCACLA;;;;;;;uCAEgC,KAAKgB,IAAL,CAAU0C,IAAV,CAAe1D,IAAf,EAAqB,KAAKgB,IAAL,CAAUE,YAA/B;;;AAAvBJ;kEACGA;;;;;;AAEPX,wCAAQC,GAAR;kEACOe;;;;;;;;;;;;;;;;;wBAIbiB;;;;;;;;uCACqB,KAAKrD,KAAL,CAAWgC,mBAAX,CAA+B,KAAKsB,gBAApC;;;AAAvBvB;;AACJ,qCAAKwB,KAAL,GAAa,IAAb;;sCACGxB,kBAAkB,CAACA,eAAeT;;;;;;uCACd,KAAKoB,MAAL,CAAYS,cAAZ,CAA2BpB,eAAeqB,GAA1C;;;AAAjBpC;;AACF,oCAAIA,SAASM,KAAb,EAAoB;AAClB,yCAAKuB,WAAL,GAAmB,yBAAnB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCjDI6D,gCAAAA;;;;;oCACXC,yBAAOC,aAAa;AAClB,2BAAgCA,YAAYC,QAA5C,kHAAsD;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,YAA3CvF,KAA2C,SAA3CA,KAA2C;AAAA,YAApCwF,QAAoC,SAApCA,QAAoC;;AACpD,8BAAoBA,QAApB,yHAA8B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,cAArBC,OAAqB;;AAC5B,eAAKC,MAAL,CAAYD,OAAZ,EAAqBzF,KAArB;AACD;AACF;;AAED,4BAAgCsF,YAAYD,MAA5C,yHAAoD;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,YAAzCrF,KAAyC,SAAzCA,KAAyC;AAAA,YAAlCwF,QAAkC,SAAlCA,QAAkC;;AAClD,8BAAoBA,QAApB,yHAA8B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,cAArBC,QAAqB;;AAC5B,eAAKE,GAAL,CAASF,QAAT,EAAkBzF,KAAlB;AACD;AACF;AACF;;oCAED2F,mBAAIF,SAASzF,OAAO;AAClB,UAAM4F,YAAYH,QAAQI,OAAR,CAAgB,aAAhB,CAAlB;AACA,UAAI,CAACD,SAAL,EAAgB;AACd;AACD;;AAGDA,gBAAUE,SAAV,CAAoBH,GAApB,CAAwB,WAAxB;;AAGA,UAAM/G,UAAUmH,SAASC,aAAT,CAAuB,MAAvB,CAAhB;AACApH,cAAQqH,SAAR,GAAoB,+BAApB;AACArH,cAAQsH,WAAR,GAAsBlG,MAAMpB,OAA5B;AACAA,cAAQ4E,EAAR,2BAAmCxD,MAAMwD,EAAzC;AACAoC,gBAAUO,WAAV,CAAsBvH,OAAtB;AACD;;oCAED8G,yBAAOD,SAASzF,OAAO;AACrB,UAAM4F,YAAYH,QAAQI,OAAR,CAAgB,aAAhB,CAAlB;AACA,UAAI,CAACD,SAAL,EAAgB;AACd;AACD;;AAGD,UAAMhH,UAAUgH,UAAUQ,aAAV,0BAA+CpG,MAAMwD,EAArD,CAAhB;AACA,UAAI5E,OAAJ,EAAa;AACXgH,kBAAUS,WAAV,CAAsBzH,OAAtB;;AAGA,YAAIgH,UAAUU,gBAAV,CAA2B,gCAA3B,EAA6DjG,MAA7D,KAAwE,CAA5E,EAA+E;AAC7EuF,oBAAUE,SAAV,CAAoBJ,MAApB,CAA2B,WAA3B;AACD;AACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;MCpDUa,mCAAAA;;;;;uCAEXC,yBAAOC,OAAO;AACZ,UAAGA,UAAU3F,SAAV,IAAuB2F,UAAU,IAApC,EAAyC;AACvC;AACD;AACD,aAAO,sBAAOA,KAAP,EAAcC,QAAd,EAAP;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;MCPYC,oCAAAA;;;;;wCAEXH,yBAAO1H,OAAO8H,MAAM;AAClB,UAAI9H,UAAUgC,SAAd,EAAyB;AACvB,YAAI8F,OAAOA,QAAQ,EAAnB;AACA,YAAIC,OAAO,qEAAqEC,SAASC,GAAT,CAAajI,MAAMkI,WAAN,EAAb,CAArE,GAAyG,SAAzG,GAAqHJ,IAArH,GAA4H,KAAvI;AACA9G,gBAAQC,GAAR,CAAY,UAAU8G,IAAtB;AACA,eAAOA,IAAP;AACD,OALD,MAKO;AACL,eAAO,gDAAP;AACD;AACF;;;;;ACbH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/pBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1ZA;ACAA;ACAA;ACAA;ACAA;ACAA","file":"app-bundle.js","sourcesContent":["import {inject} from 'aurelia-framework';\nimport {FetchConfig} from 'aurelia-auth';\nimport {AuthorizeStep} from 'aurelia-auth';\n@inject(FetchConfig)\nexport class App {\n  constructor(fetchConfig)\n  {\n    this.fetchConfig=fetchConfig;\n  }\n  activate(){\n    this.fetchConfig.configure();\n  }\n  configureRouter(config, router)\n  {\n    this.router = router;\n    config.addPipelineStep('authorize',AuthorizeStep);\n    config.title = 'Chirps';\n    config.map([\n     {\n       route: ['','home'],\n       moduleId:'./modules/home',\n       name:'Home'\n     },\n     {\n       route: 'wall',\n       moduleId:'./modules/wall',\n       name:'Wall',\n       auth:true\n     }\n    ]);\n  }\n}\n","var authConfig = {\r\n    baseUrl:\"http://localhost:5000/api\",\r\n    loginUrl:'/users/login',\r\n    tokenName:'token',\r\n    authHeader:'Authorization',\r\n    authToken:'',\r\n    logoutRedirect:'#/home'\r\n}\r\nexport default authConfig;","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport config from './auth-config';\nimport regeneratorRuntime from \"regenerator-runtime\";\nwindow.regeneratorRuntime = regeneratorRuntime; \n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-validation')\n    .plugin('aurelia-auth',(baseconfig)=>{\n      baseconfig.configure(config);\n    })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {AuthService} from 'aurelia-auth';\r\nimport {Users} from '../resources/data/users';\r\nimport {\r\n  ValidationControllerFactory,\r\n  ValidationController,\r\n  ValidationRules\r\n} from 'aurelia-validation';\r\nimport {BootstrapFormRenderer} from '../resources/utils/bootstrap-form-renderer';\r\n\r\n@inject(Router,AuthService,Users,ValidationControllerFactory)\r\nexport class Home\r\n{\r\n constructor(router,auth,users,controllerFactory)\r\n {\r\n     this.router = router;\r\n     this.auth = auth;\r\n     this.users = users;\r\n     this.message = 'Chirps';\r\n     this.loginError=\"\";\r\n     this.email;\r\n     this.password;\r\n     this.showLogon = true;\r\n     this.registerError=\"\";\r\n     this.controller = controllerFactory.createForCurrentScope();\r\n     this.controller.addRenderer(new BootstrapFormRenderer());  \r\n }\r\n\r\n  login() {\r\n    return this.auth.login(this.email, this.password)\r\n      .then(response => {\r\n          sessionStorage.setItem(\"user\", JSON.stringify(response.user));\r\n          this.loginError = \"\";\r\n          this.router.navigate('wall');\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        this.loginError = \"Invalid credentials.\";\r\n      });\r\n  };\r\n\r\n  showRegister(){\r\n    this.showLogon = !this.showLogon;\r\n  }\r\n\r\n  async save() {\r\n    let result = await this.controller.validate();\r\n    if (result.length === 0) {\r\n      var user = {\r\n        firstName: this.firstName,\r\n        lastName: this.lastName,\r\n        email: this.email,\r\n        screenName: this.screenName,\r\n        password: this.password\r\n      }\r\n      let serverResponse = await this.users.save(user);\r\n      if (!serverResponse.error) {\r\n        this.registerError = \"\";\r\n        this.showLogon = true;\r\n      } else {\r\n        this.registerError = \"There was a problem registering the user.\"\r\n      }\r\n    }\r\n  }\r\n\r\n    async getPersonScreenName(name) {\r\n        if(name){\r\n            try {\r\n                let serverResponse = await this.data.get(this.data.USER_SERVICE + \"/screenName/\" + name);\r\n                return serverResponse;\r\n            } catch (error) {\r\n                console.log(error);\r\n                return undefined;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nValidationRules  \r\n\t.ensure(a => a.firstName).required()\r\n\t.ensure(a => a.lastName).required()  \r\n\t.ensure(a => a.email).required().email()  \r\n\t.ensure(a => a.screenName).required()\r\n  .ensure(a => a.password).required()  \r\n\t.on(Home);\r\n","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {AuthService} from 'aurelia-auth';\r\nimport {Chirps} from '../resources/data/chirps';\r\nimport {Users} from '../resources/data/users';\r\n\r\n@inject(Router,AuthService,Chirps,Users)\r\nexport class Wall \r\n{\r\n  DATE_FORMAT_TABLE = \"MMM Do YYYY\";\r\n\r\n constructor(router,auth,chirps,users)\r\n {\r\n     this.router = router;\r\n     this.message = 'Chirps';\r\n     this.chirps = chirps;\r\n     this.users = users;\r\n     this.auth = auth;\r\n     this.newChirp;\r\n     this.wallMessage=\"\";\r\n     this.saveStatus=\"\";\r\n }\r\nasync activate() {\r\n    await this.getChirps();\r\n    }\r\n\r\nasync getChirps() {\r\n    this.user = JSON.parse(sessionStorage.getItem('user'));\r\n    this.users.setUser(this.user);\r\n    let serverResponse = await this.chirps.getUsersChirps(this.user._id);\r\n    if (serverResponse.error) {\r\n      this.wallMessage = \"Error retrieving chirps\";\r\n    }\r\n}\r\nasync findUser(){\r\n    let serverResponse = await this.users.getPersonScreenName(this.searchScreenName);\r\n    this.notMe = true;\r\n    if(!serverResponse.error) {\r\n      //line 37!!!\r\n      this.users.setUser(serverResponse);//to find user by screenName  \r\n      await this.chirps.getUsersChirps(serverResponse._id);\r\n    }\r\n  }\r\n\r\n  async openUser(screenName){\r\n    let serverResponse = await this.users.getPersonScreenName(screenName);\r\n    this.notMe = true;\r\n    if(!serverResponse.error) {\r\n      this.users.setUser(serverResponse);  \r\n      await this.chirps.getUsersChirps(serverResponse._id);\r\n    }\r\n    }\r\n\r\nasync follow(){\r\n    await this.users.followUser(this.user._id, this.users.selectedUser._id);\r\n  }\r\n\r\n async home(){\r\n    this.notMe = false;\r\n    await this.chirps.getUsersChirps(this.user._id);\r\n  }\r\n\r\n\r\n async chirp() {\r\n    if (this.newChirp) {\r\n      var chirp = {\r\n        chirp: this.newChirp,\r\n        user: this.user._id,\r\n        chirpAuthor: this.user._id\r\n      }\r\n      let serverResponse = await this.chirps.saveChirp(chirp);\r\n      if (serverResponse && !serverResponse.error) {\r\n        this.newChirp = \"\";\r\n        this.saveStatus = \"\";\r\n         this.chirps.chirpArray[0].chirpAuthor = new Object();\r\n         this.chirps.chirpArray[0].chirpAuthor = {email : this.user.email,firstName: this.user.firstName,lastName: this.user.lastName, screenName: this.user.screenName};\r\n         //let serverResponse = await this.chirps.getUsersChirps(this.user._id);\r\n      } else {\r\n        this.saveStatus = \"Error saving chirp\";\r\n      }\r\n    }\r\n  }\r\nlike(index){\r\n    this.chirps.like(this.chirps.chirpArray[index]._id);\r\n    this.chirps.chirpArray[index].likes++;\r\n  }\r\n\r\n  async reChirp(chirp){\r\n    var newChirp = {\r\n      chirp: chirp.chirp,\r\n      user: this.user._id,\r\n      reChirp: true,\r\n      chirpAuthor: this.user._id\r\n    };\r\n    let serverResponse = await this.chirps.saveChirp(newChirp);\r\n      if (serverResponse && !serverResponse.error) {\r\n           this.saveStatus = \"\";\r\n          this.chirps.chirpArray[0].chirpAuthor = new Object();\r\n         this.chirps.chirpArray[0].chirpAuthor = {email : this.user.email,firstName: this.user.firstName,lastName: this.user.lastName, screenName: this.user.screenName};\r\n      } else {\r\n        this.saveStatus = \"Error saving chirp\"; \r\n     }\r\n  }\r\n\r\n  logout(){\r\n    sessionStorage.removeItem('user');\r\n    this.auth.logout();\r\n}\r\n\r\nhome(){\r\n    this.router.navigate('home');\r\n}\r\n}","export function configure(config) {\n  config.globalResources([\n    './value-converters/date-format',\n    './value-converters/gravatar-url'\n  ]);\n}\n","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class Chirps { \r\n\r\n\tconstructor(data) {\r\n        \t\tthis.data = data;\r\n\t\tthis.chirpsArray = undefined;\r\n    \t}\r\n\r\n async saveChirp(chirp){ \r\n       try {\r\n            let serverResponse = await this.data.post(chirp, this.data.CHIRP_SERVICE);\r\n\t        if(!serverResponse.error) {//if(!serverResponse.error && !chirp.reChirp) { why sldnt we load rechirp immediately?\r\n                    this.chirpArray.unshift(serverResponse);\r\n                }\r\n                return serverResponse;\r\n                    } catch (error) {\r\n                            console.log(error);\r\n                            return undefined;\r\n                    }\r\n }\r\n\r\nasync getUsersChirps(id) {\r\n        var url = this.data.USER_SERVICE + '/followedChirps/' + id;\r\n        try {\r\n            let serverResponse = await this.data.get(url);\r\n            if (!serverResponse.error) {\r\n                this.chirpArray = serverResponse;\r\n            }\r\n            return serverResponse;\r\n        } catch (error) {\r\n            console.log(error);\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n  async like(id){\r\n      var chirp = {};\r\n      try {\r\n    \tlet serverResponse = await this.data.put(chirp, this.data.CHIRP_SERVICE + '/like/' + id);\r\n\treturn serverResponse;\r\n        } catch (error) {\r\n          console.log(error);\r\n          return undefined;\r\n      }\r\n    }\r\n\r\n\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {HttpClient} from 'aurelia-http-client';\r\n\r\n@inject(HttpClient)\r\nexport class DataServices {\r\n\tBASE_URL = \"http://localhost:5000/api\";\r\n    \tUSER_SERVICE = '/users';\r\n\t CHIRP_SERVICE = '/chirps';\r\n\r\n    constructor(http) {\r\n        this.http = http;\r\n        this.http.configure(x => {\r\n\tx.withBaseUrl(this.BASE_URL);\r\n        });\r\n    }\r\n    get(url){\r\n        return this.http.createRequest(url)\r\n            .asGet()\r\n            .withHeader('Authorization', \"JWT \"+localStorage.getItem('aurelia_token'))\r\n            .send()\r\n            .then(response => {\r\n                if (!response.isSuccess) {\r\n                                return response;\r\n                            } else {\r\n                                return JSON.parse(response.response);\r\n                            }\r\n                    }).catch(e => {\r\n                console.log(e);\r\n                            return  {error: true, code: e.statusCode, message: e.statusText};\r\n                    });\r\n    }\r\nput(content, url) {\r\n\treturn this.http.createRequest(url)\r\n\t\t .asPut()\r\n\t\t .withHeader('Authorization', \"JWT \"+localStorage.getItem('aurelia_token'))\r\n\t\t .withContent(content)\r\n\t\t .send()\r\n\t\t.then(response => {\r\n\t\t\tif (!response.isSuccess) {\r\n\t\t                     return response;\r\n\t\t                 } else {\r\n\t\t                     return JSON.parse(response.response);\r\n\t\t                 }\r\n\t\t}).catch(e => {\r\n\t\t\tconsole.log(e);\r\n\t\t                 return  {error: true, code: e.statusCode, message: e.statusText};\r\n\t                 });\r\n}\r\npost(content, url) {\r\n\treturn this.http.createRequest(url)\r\n\t\t .asPost()\r\n\t\t .withHeader('Authorization', \"JWT \"+localStorage.getItem('aurelia_token'))\r\n\t\t .withContent(content)\r\n\t\t .send()\r\n\t\t.then(response => {\r\n\t\t\tif (!response.isSuccess) {\r\n\t\t                     return response;\r\n\t\t                 } else {\r\n\t\t                     return JSON.parse(response.response);\r\n\t\t                 }\r\n\t\t}).catch(e => {\r\n\t\t\tconsole.log(e);\r\n\t\t                 return  {error: true, code: e.statusCode, message: e.statusText};\r\n\t                 });\r\n}\r\n\r\ndelete(url) {\r\n\treturn this.http.createRequest(url)\r\n\t\t.asDelete()\r\n\t\t.withHeader('Authorization', \"JWT \"+localStorage.getItem('aurelia_token'))\r\n\t\t.send()\r\n\t\t.then(response => {\r\n\t\t\tif (!response.isSuccess) {\r\n\t\t\t\treturn response;\r\n\t\t\t} else {\r\n\t\t\t\treturn JSON.parse(response.response);\t\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\tconsole.log(e);\r\n\t\t\treturn { error: true, code: e.statusCode, message: e.statusText };\r\n\t\t});\r\n}\r\n}","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\n\r\nexport class Users { \r\n    constructor(data){\r\n        this.data = data;\r\n    }\r\n\r\nsetUser(user) {\r\n        this.selectedUser = user;\r\n    }\r\n    \r\nasync getPersonScreenName(name) {\r\n        if(name){\r\n            try {\r\n                let serverResponse = await this.data.get(this.data.USER_SERVICE + \"/screenName/\" + name);\r\n                return serverResponse;\r\n            } catch (error) {\r\n                console.log(error);\r\n                return undefined;\r\n            }\r\n        }\r\n    }\r\n  async followUser(userId, followId){\r\n         if(userId && followId){\r\n            var obj = {_id: followId};\r\n            try{\r\n                let serverResponse = await this.data.put(obj, this.data.USER_SERVICE + '/follow/' + userId);\r\n                return serverResponse;\r\n         } catch (error) {\r\n                console.log(error);\r\n                return undefined;\r\n            }\r\n        }\r\n    }\r\n     async save(user){\r\n        if(user){\r\n            try{\r\n                let serverResponse = await this.data.post(user, this.data.USER_SERVICE);\r\n                return serverResponse;\r\n             } catch (error) {\r\n                console.log(error);\r\n                return undefined;\r\n            }\r\n        }\r\n    }\r\n    async findUser(){\r\n    let serverResponse = await this.users.getPersonScreenName(this.searchScreenName);\r\n    this.notMe = true;\r\n    if(serverResponse && !serverResponse.error) {\r\n      let response = await this.chirps.getUsersChirps(serverResponse._id);\r\n        if (response.error) {\r\n          this.wallMessage = \"Error retrieving chirps\";\r\n        }\r\n     }\r\n  }\r\n}","import {\n  ValidationRenderer,\n  RenderInstruction,\n  ValidationError\n} from 'aurelia-validation';\n\nexport class BootstrapFormRenderer {\n  render(instruction) {\n    for (let { error, elements } of instruction.unrender) {\n      for (let element of elements) {\n        this.remove(element, error);\n      }\n    }\n\n    for (let { error, elements } of instruction.render) {\n      for (let element of elements) {\n        this.add(element, error);\n      }\n    }\n  }\n\n  add(element, error) {\n    const formGroup = element.closest('.form-group');\n    if (!formGroup) {\n      return;\n    }\n\n    // add the has-error class to the enclosing form-group div\n    formGroup.classList.add('has-error');\n\n    // add help-block\n    const message = document.createElement('span');\n    message.className = 'help-block validation-message';\n    message.textContent = error.message;\n    message.id = `validation-message-${error.id}`;\n    formGroup.appendChild(message);\n  }\n\n  remove(element, error) {\n    const formGroup = element.closest('.form-group');\n    if (!formGroup) {\n      return;\n    }\n\n    // remove help-block\n    const message = formGroup.querySelector(`#validation-message-${error.id}`);\n    if (message) {\n      formGroup.removeChild(message);\n\n      // remove the has-error class from the enclosing form-group div\n      if (formGroup.querySelectorAll('.help-block.validation-message').length === 0) {\n        formGroup.classList.remove('has-error');\n      }\n    }\n  }\n}","import moment from 'moment';\r\n\r\nexport class DateFormatValueConverter {\r\n  \r\n  toView(value) {\r\n    if(value === undefined || value === null){\r\n      return;\r\n    }\r\n    return moment(value).calendar();\r\n}\r\n}","import md5 from 'md5';\r\n\r\nexport class GravatarUrlValueConverter {\r\n\r\n  toView(email, size) {\r\n    if (email !== undefined) {\r\n      var size = size || 80;\r\n      var html = '<img class=\"img-circle\" src=\"https://secure.gravatar.com/avatar/' + CryptoJS.MD5(email.toLowerCase()) + '.jpg?s=' + size + '\"/>';\r\n      console.log(\"html=\" + html);\r\n      return html;\r\n    } else {\r\n      return \"<span class='glyphicon glyphicon-user'></span>\"\r\n    }\r\n  }\r\n}",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"../src"}